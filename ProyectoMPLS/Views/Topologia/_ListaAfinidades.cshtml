@model IEnumerable<ProyectoMPLS.Models.Topologia.Afinidad>

<!-- modal placeholder -->
<div id='afinidad' class='modal fade in'>
    <div id='afinidadContent'></div>
</div>


<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title" id="myModalLabel">Lista de Afinidades</h4>
</div>

<div class="modal-body">
    @if (Model != null && Model.Any())
    {
        // HTML code of Partial View
        <table class="table table-striped table-bordered" id="tblAfinidades">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(model => model.cDescripcion)</th>
                    <th>@Html.DisplayNameFor(model => model.cColor)</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model)
                {

                    @*@Html.HiddenFor(modelItem => item.idProyecto, new { id = "tbxIdProyecto" })*@
                    <tr>
                        <td class="descripcion">
                            @Html.DisplayFor(modelItem => item.cDescripcion)
                        </td>
                        <td class="color" bgcolor="#@item.cColor">
                            @*<div class="btn-circle btn-lg" background-color="#@item.cColor">
                                </div>*@
                        </td>
                        <td>
                            @using (Html.BeginForm("_BorrarAfinidad", "Topologia", FormMethod.Post))
                            {
                                <div class="btn-group" role="group">
                                    <a class="btn btn-default" id="linkEditarAfinidad" data-modal="" data-toggle="modal" href="@Url.Action("_EditarAfinidad", "Topologia", new { idProyecto = item.idProyecto, idAfinidad = item.idAfinidad })">Editar</a>
                                    @Html.Hidden("idProyecto", item.idProyecto)
                                    @Html.Hidden("idAfinidad", item.idAfinidad)
                                    <button type="submit" class="btn btn-danger">Eliminar</button>
                                </div>
                            }

                            @*<a class="btn btn-danger" id="linkEliminarAfinidad" data-modal="" data-toggle="modal" href="">Eliminar</a>*@
                        </td>
                    </tr>

                }

            </tbody>

        </table>
    }
    else
    {
        <div class="test"></div>
        <tr><td><h4>no tiene ninguna afinidad</h4></td></tr>
        //Message to display no record found.
    }

</div>







<div class="modal-footer">
    <a class="btn btn-default" id="linkCrearAfinidad" data-modal="" data-toggle="modal" href="@Url.Action("_CrearAfinidad", "Topologia", new { idProyecto = Model.First().idProyecto })">Agregar Afinidad</a>
    @*<button class="btn" id="addAfinidad">Agregar Afinidad</button>*@
    <button class="btn btn-danger" data-dismiss="modal">Cerrar</button>
</div>

@*<div id="stack2" class="modal hide fade" tabindex="-1" data-focus-on="input:first">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3>Stack Two</h3>
      </div>
      <div class="modal-body">
        <p>One fine body…</p>
        <p>One fine body…</p>
        <input type="text" data-tabindex="1">
        <input type="text" data-tabindex="2">
        <button class="btn" data-toggle="modal" href="#stack3">Launch modal</button>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn">Close</button>
        <button type="button" class="btn btn-primary">Ok</button>
      </div>
    </div>*@

<script src="~/Scripts/modalform.js"></script>

<script>

    $(document).ready(function () {
        //$("div.test").on("show", function () {

        //});

        //$('form').submit(function (e) {
        //    var currentForm = this;
        //    e.preventDefault();
        //    bootbox.confirm('¿Está seguro de que desea eliminar esta afinidad?', function (result) {
        //        if (result) {
        //            currentForm.submit();
        //        }
        //    });
        //});
    });

</script>

